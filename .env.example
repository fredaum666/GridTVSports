# ========================================
# Email Configuration (for password reset)
# ========================================
# Use Gmail, SendGrid, or any SMTP provider
# For Gmail: Enable "Less secure app access" or use App Passwords

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_FROM=GridTV Sports <noreply@gridtvsports.com>

# Base URL for password reset links
APP_URL=http://localhost:3001

# ========================================
# Azure PostgreSQL Configuration
# ========================================

# Full connection string format:
# postgresql://username@servername:password@servername.postgres.database.azure.com:5432/databasename?sslmode=require

# IMPORTANT: Replace these values with your actual Azure PostgreSQL details:
# - username@servername: Your admin username + @ + server name
# - password: Your PostgreSQL password
# - servername.postgres.database.azure.com: Your Azure PostgreSQL server URL
# - databasename: Your database name (or use 'postgres' for default)

DATABASE_URL=postgresql://gridtvadmin@gridtvsports:YourPasswordHere@gridtvsports.postgres.database.azure.com:5432/postgres?sslmode=require

# ========================================
# Server Configuration
# ========================================
PORT=3001

# ========================================
# Example Connection Strings
# ========================================

# Example 1: Azure Flexible Server
# DATABASE_URL=postgresql://myadmin@myserver:MyP@ss123@myserver.postgres.database.azure.com:5432/gridtvdb?sslmode=require

# Example 2: Azure Single Server  
# DATABASE_URL=postgresql://myadmin@myserver:MyP@ss123@myserver.postgres.database.azure.com:5432/gridtvdb?sslmode=require

# Example 3: Supabase
# DATABASE_URL=postgresql://postgres:YourPassword@db.xxxxxxxxxxxxx.supabase.co:5432/postgres

# Example 4: Railway
# DATABASE_URL=postgresql://postgres:password@containers-us-west-xx.railway.app:5432/railway

# ========================================
# How to Get Your Connection Details
# ========================================
# 
# 1. Go to Azure Portal: https://portal.azure.com
# 2. Navigate to: Your PostgreSQL Server
# 3. Click: "Connection strings" (left menu)
# 4. Copy the Node.js connection string
# 5. Replace {your_password} with your actual password
# 6. Ensure it ends with ?sslmode=require
#
# ========================================

# ========================================
# Troubleshooting
# ========================================
#
# ❌ Connection fails?
# 1. Check firewall rules in Azure Portal
# 2. Add your IP: Azure Portal → PostgreSQL → Networking
# 3. Enable "Allow access to Azure services"
# 4. Verify username format: username@servername
# 5. Ensure ?sslmode=require is at the end
#
# Test connection: node test-db.js
# ========================================
